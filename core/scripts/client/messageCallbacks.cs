//-----------------------------------------------------------------------------
// Copyright (c) 2012 The Tauris Network
//-----------------------------------------------------------------------------

// All callbacks

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------

function addMessageCallback(%msgType, %func)
{
   for (%i = 0; (%afunc = $MSGCB[%msgType, %i]) !$= ""; %i++)
   {
      if (%afunc $= %func) {
         return;
      }
   }

   $MSGCB[%msgType, %i] = %func;
}

//-----------------------------------------------------------------------------

addMessageCallback("", defaultMessageCallback);
addMessageCallback("equipMsg", handleEquipMessage);
addMessageCallback("itemMsg", handleItemMessage);

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------

function defaultMessageCallback(%msgType, %msgString, %a1, %a2, %a3, %a4, %a5, %a6, %a7, %a8, %a9, %a10)
{
  onServerMessage(detag(%msgString));
}

//-----------------------------------------------------------------------------

function handleEquipMessage(%msgType, %msgString, %a1, %a2, %a3, %a4, %a5, %a6, %a7, %a8, %a9, %a10)
{
}

//-----------------------------------------------------------------------------

function handleItemMessage(%msgType, %msgString, %a1, %a2, %a3, %a4, %a5, %a6, %a7, %a8, %a9, %a10)
{
  $slot[%a2] = %a1;
}

//-----------------------------------------------------------------------------


//-----------------------------------------------------------------------------







